/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, {
/******/ 				configurable: false,
/******/ 				enumerable: true,
/******/ 				get: getter
/******/ 			});
/******/ 		}
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = 9);
/******/ })
/************************************************************************/
/******/ ([
/* 0 */,
/* 1 */,
/* 2 */,
/* 3 */,
/* 4 */,
/* 5 */,
/* 6 */,
/* 7 */,
/* 8 */,
/* 9 */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__(10);


/***/ }),
/* 10 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__content_create_notices_js__ = __webpack_require__(11);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__content_create_notices_js___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__content_create_notices_js__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__content_notices_list_js__ = __webpack_require__(12);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__content_notices_list_js___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__content_notices_list_js__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__content_create_galery_js__ = __webpack_require__(13);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__content_create_galery_js___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__content_create_galery_js__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__content_galery_list_js__ = __webpack_require__(14);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__content_galery_list_js___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3__content_galery_list_js__);





/***/ }),
/* 11 */
/***/ (function(module, exports) {

(function () {
    var clase = document.querySelector('body').className;

    if (clase !== 'notice-create') {
        return;
    }

    var addVideoBtn = document.querySelector('#add-video-btn');
    var container = document.querySelector('#videos-container');
    var smallAlert = document.querySelector('.small-alert');
    var saveNoticeBtn = document.querySelector('.js-save-notice');

    function addVideo(e) {

        var itemsLength = container.querySelectorAll('.item-video').length;

        var limit = hideSmallAlert(itemsLength);

        if (limit) {
            return;
        }

        var count = itemsLength + 1;

        var html = '<div class="form-group">\n                    <label for="videos ' + count + '" class="col-sm-2 text-right">' + count + '.</label>\n                    <div class="col-sm-10 align-self-end float-right item-video">\n                      <textarea name="videos[]" class="form-control" rows="1"></textarea>\n                      <a class="delete-item-video"=><i class="fa fa-plus fa-rotate-42"></i></a>\n                    </div>\n                  </div>';

        container.insertAdjacentHTML('beforeend', html);

        var items = container.querySelectorAll('.item-video textarea');
        items[items.length - 1].focus();

        var deleteVideoItem = container.querySelectorAll('.delete-item-video');

        Array.prototype.forEach.call(deleteVideoItem, function (video) {
            video.addEventListener('click', deleteVideo);
        });
    }

    function deleteVideo(e) {

        var currentItems = container.querySelectorAll('.item-video');

        if (currentItems.length == 1) {
            return;
        }

        var parent = e.currentTarget.parentNode.parentNode.parentNode;

        parent.removeChild(e.currentTarget.parentNode.parentNode);

        var newCurrentItems = container.querySelectorAll('.item-video');

        for (var i = 0; i <= newCurrentItems.length - 1; i++) {

            var label = newCurrentItems[i].parentNode.querySelector('label');
            label.innerText = i + 1 + '.';
        }

        var items = container.querySelectorAll('.item-video textarea');
        items[items.length - 1].focus();

        hideSmallAlert(items.length);
    }

    function hideSmallAlert(lenght) {

        if (lenght >= 5) {
            smallAlert.classList.remove('none');
            smallAlert.classList.add('initial');

            return 'true';
        } else {

            smallAlert.classList.remove('initial');
            smallAlert.classList.add('none');
        }
    }

    function saveNotice(e) {
        e.preventDefault();

        var request = new XMLHttpRequest();
        var token = e.currentTarget.getAttribute('data-csrf');
        var form = document.getElementById('save-notice');
        var data = new FormData(form);
        var spin = document.querySelector('.fa-spin');
        var btn = e.currentTarget;

        btn.setAttribute("disabled", "true");
        spin.classList.remove('hidden');

        request.open('POST', 'http://casa.dev/noticias', true);
        request.setRequestHeader('X-CSRF-Token', token);
        request.setRequestHeader('X-Requested-With', 'XMLHttpRequest');

        request.onload = function () {
            console.log(request.status);
            if (request.status >= 200 && request.status < 400) {

                swal('¡Guardado!', 'La noticia a sido guardada exitosamente.', 'success').then(function () {
                    window.location.href = 'http://casa.dev/admin/noticias';
                });
            } else {
                // We reached our target server, but it returned an error

                btn.removeAttribute("disabled", "false");
                spin.classList.add('hidden');

                var errors = JSON.parse(request.responseText);
                var alerts = document.getElementById('alerts');
                alerts.innerText = '';

                for (var key in errors) {
                    $("#alerts").append('<div class="alert alert-danger" role="alert">' + errors[key][0] + '</div>');
                }
            }
        };

        request.onerror = function () {
            // There was a connection error of some sort
            console.log('Ocurrió un error de conexión, por favor intente de nuevo.');
        };

        request.send(data);
    }

    addVideoBtn.addEventListener('click', addVideo);
    saveNoticeBtn.addEventListener('click', saveNotice);
})();

/***/ }),
/* 12 */
/***/ (function(module, exports) {

(function () {
  var clase = document.querySelector('body').className;

  if (clase !== 'notices-list') {
    return;
  }

  var btnDelete = document.querySelectorAll('.js-delete-notice');

  function deleteNotice(e) {
    var id = e.currentTarget.getAttribute('data-item');
    var csrf = e.currentTarget.getAttribute('data-csrf');

    swal({
      title: '¿Está seguro de eliminar?',
      text: "Usted no podrá revertirlo",
      type: 'warning',
      showCancelButton: true,
      confirmButtonColor: '#3085d6',
      cancelButtonColor: '#d33',
      cancelButtonText: 'Cancelar',
      confirmButtonText: 'Si'
    }).then(function (result) {
      if (result) {

        var request = new XMLHttpRequest();
        var response = false;

        request.open('DELETE', 'http://casa.dev/admin/noticias/delete/' + id, true);
        request.setRequestHeader('X-Requested-With', 'XMLHttpRequest');
        request.setRequestHeader('X-CSRF-Token', csrf);

        request.onload = function () {

          if (request.status >= 200 && request.status < 400) {

            swal('¡Eliminado!', 'El registro a sido eliminado.', 'success').then(function () {
              window.location.href = 'http://casa.dev/admin/noticias';
            });
          } else {
            // We reached our target server, but it returned an error
            console.log('No se pudo eliminar al registro, por favor intente de nuevo.');
          }
        };

        request.onerror = function () {
          // There was a connection error of some sort
          console.log('Ocurrió un error de conexión, por favor intente de nuevo.');
        };

        request.send();
      }
    });
  }

  Array.prototype.forEach.call(btnDelete, function (btn) {
    btn.addEventListener('click', deleteNotice);
  });
})();

/***/ }),
/* 13 */
/***/ (function(module, exports) {

(function () {
    var clase = document.querySelector('body').className;

    if (clase !== 'galery-create') {
        return;
    }

    var addVideoBtn = document.querySelector('#add-video-btn');
    var container = document.querySelector('#videos-container');
    var smallAlert = document.querySelector('.small-alert');
    var saveGaleryBtn = document.querySelector('.js-save-galery');

    function addVideo(e) {

        var itemsLength = container.querySelectorAll('.item-video').length;

        var limit = hideSmallAlert(itemsLength);

        if (limit) {
            return;
        }

        var count = itemsLength + 1;

        var html = '<div class="form-group">\n                    <label for="videos ' + count + '" class="col-sm-2 text-right">' + count + '.</label>\n                    <div class="col-sm-10 align-self-end float-right item-video">\n                      <textarea name="videos[]" class="form-control" rows="1"></textarea>\n                      <a class="delete-item-video"=><i class="fa fa-plus fa-rotate-42"></i></a>\n                    </div>\n                  </div>';

        container.insertAdjacentHTML('beforeend', html);

        var items = container.querySelectorAll('.item-video textarea');
        items[items.length - 1].focus();

        var deleteVideoItem = container.querySelectorAll('.delete-item-video');

        Array.prototype.forEach.call(deleteVideoItem, function (video) {
            video.addEventListener('click', deleteVideo);
        });
    }

    function deleteVideo(e) {

        var currentItems = container.querySelectorAll('.item-video');

        if (currentItems.length == 1) {
            return;
        }

        var parent = e.currentTarget.parentNode.parentNode.parentNode;

        parent.removeChild(e.currentTarget.parentNode.parentNode);

        var newCurrentItems = container.querySelectorAll('.item-video');

        for (var i = 0; i <= newCurrentItems.length - 1; i++) {

            var label = newCurrentItems[i].parentNode.querySelector('label');
            label.innerText = i + 1 + '.';
        }

        var items = container.querySelectorAll('.item-video textarea');
        items[items.length - 1].focus();

        hideSmallAlert(items.length);
    }

    function hideSmallAlert(lenght) {

        if (lenght >= 5) {
            smallAlert.classList.remove('none');
            smallAlert.classList.add('initial');

            return 'true';
        } else {

            smallAlert.classList.remove('initial');
            smallAlert.classList.add('none');
        }
    }

    function saveGalery(e) {
        e.preventDefault();

        var request = new XMLHttpRequest();
        var token = e.currentTarget.getAttribute('data-csrf');
        var form = document.getElementById('save-galery');
        var data = new FormData(form);
        var spin = document.querySelector('.fa-spin');
        var btn = e.currentTarget;

        btn.setAttribute("disabled", "true");
        spin.classList.remove('hidden');

        request.open('POST', 'http://casa.dev/galeria', true);
        request.setRequestHeader('X-CSRF-Token', token);
        request.setRequestHeader('X-Requested-With', 'XMLHttpRequest');

        request.onload = function () {

            console.log(request.status);
            if (request.status >= 200 && request.status < 400) {

                // swal(
                //   '¡Guardado!',
                //   'La noticia a sido guardada exitosamente.',
                //   'success'
                //   ).then( function () {
                //     window.location.href = 'http://casa.dev/admin/noticias';
                //   })

            } else {
                // We reached our target server, but it returned an error

                btn.removeAttribute("disabled", "false");
                spin.classList.add('hidden');

                var alerts = document.getElementById('alerts');
                alerts.innerText = '';

                var errors = JSON.parse(request.responseText);

                for (var key in errors) {
                    $("#alerts").append('<div class="alert alert-danger" role="alert">' + errors[key][0] + '</div>');
                }
            }
        };

        request.onerror = function () {
            // There was a connection error of some sort
            console.log('Ocurrió un error de conexión, por favor intente de nuevo.');
        };

        request.send(data);
    }

    addVideoBtn.addEventListener('click', addVideo);
    saveGaleryBtn.addEventListener('click', saveGalery);
})();

/***/ }),
/* 14 */
/***/ (function(module, exports) {

(function () {
  var clase = document.querySelector('body').className;

  if (clase !== 'galery-list') {
    return;
  }

  var btnDelete = document.querySelectorAll('.js-delete-galery');

  function deleteGalery(e) {
    var id = e.currentTarget.getAttribute('data-item');
    var csrf = e.currentTarget.getAttribute('data-csrf');

    swal({
      title: '¿Está seguro de eliminar?',
      text: "Usted no podrá revertirlo",
      type: 'warning',
      showCancelButton: true,
      confirmButtonColor: '#3085d6',
      cancelButtonColor: '#d33',
      cancelButtonText: 'Cancelar',
      confirmButtonText: 'Si'
    }).then(function (result) {
      if (result) {

        var request = new XMLHttpRequest();
        var response = false;

        request.open('DELETE', 'http://casa.dev/admin/galeria/delete/' + id, true);
        request.setRequestHeader('X-Requested-With', 'XMLHttpRequest');
        request.setRequestHeader('X-CSRF-Token', csrf);

        request.onload = function () {

          if (request.status >= 200 && request.status < 400) {

            swal('¡Eliminado!', 'El registro a sido eliminado.', 'success').then(function () {
              window.location.href = 'http://casa.dev/admin/galeria';
            });
          } else {
            // We reached our target server, but it returned an error
            console.log('No se pudo eliminar al registro, por favor intente de nuevo.');
          }
        };

        request.onerror = function () {
          // There was a connection error of some sort
          console.log('Ocurrió un error de conexión, por favor intente de nuevo.');
        };

        request.send();
      }
    });
  }

  Array.prototype.forEach.call(btnDelete, function (btn) {
    btn.addEventListener('click', deleteGalery);
  });
})();

/***/ })
/******/ ]);